<div class="row playlist-entry no-gutters px-3">
    <div class="entry-info d-flex">
        <div class="entry-image-container">
            <img src="http://img.youtube.com/vi/{{ video?.link }}/0.jpg" alt="{{ video?.name }}"
                class="entry-image h-100">
            <span class="submission-duration d-flex align-items-center justify-content-center">
                {{ video?.duration | duration }}
            </span>
        </div>
        <div class="entry-details pl-3 pr-0">
            <p class="song-list-line">
                <span *ngIf="appliedOptions.inQueue" id="in-queue-indicator">Already in Queue: </span>
                <a href="https://youtube.com/watch?v={{ video?.link }}" title="{{ video?.name }}">{{ video?.name }}</a>
            </p>
            <div class="entry-actions" *ngIf="!appliedOptions.none">
                <app-bx-button *ngIf="appliedOptions.addToPlaylist" (click)="addToPlaylist()"
                    [options]="{'type': 'addToLibrary', 'textDisplay': 'tooltip', 'text': 'Add to the selected Playlist', 'context': 'queue'}">
                </app-bx-button>
                <span *appAcl="'addVideo'">
                    <app-bx-button *ngIf="appliedOptions.submit" (click)="submitVideo()" class="ml-1"
                        [options]="{'type': 'play', 'context': 'queue', 'textDisplay': 'tooltip', 'text': 'Add to Queue'}">
                    </app-bx-button>
                </span>
                <span *ngIf="appliedOptions.forceNext">
                    <span *appAcl="'forceNext'">
                        <app-bx-button class="ml-1" (click)="submitVideo('next')"
                            [options]="{'type': 'forceNext', 'textDisplay': 'tooltip', 'context': 'queue', 'text': 'Play next'}">
                        </app-bx-button>
                    </span>
                    <span *appAcl="'!forceNext'">
                        <app-bx-button *ngIf="appliedOptions.berries" class="ml-1" (click)="submitVideo('next')"
                            [options]="{'type': 'forceNext', 'textDisplay': 'tooltip', 'context': 'berries', 'text': 'Spend 10 berries to play next'}">
                        </app-bx-button>
                    </span>
                </span>
                <span *ngIf="appliedOptions.forcePlay">
                    <span *appAcl="'forcePlay'">
                        <app-bx-button class="ml-1" (click)="submitVideo('now')"
                            [options]="{'type': 'forcePlay', 'textDisplay': 'tooltip', 'context': 'queue', 'text': 'Play now', 'context': 'queue'}">
                        </app-bx-button>
                    </span>
                    <span *appAcl="'!forcePlay'">
                        <app-bx-button *ngIf="appliedOptions.berries" class="ml-1" (click)="submitVideo('now')"
                            [options]="{'type': 'forcePlay', 'textDisplay': 'tooltip', 'context': 'berries', 'text': 'Spend 30 berries to play now'}">
                        </app-bx-button>
                    </span>
                </span>
                <app-bx-button *ngIf="appliedOptions.removeFromPlaylist" (click)="removeFromPlaylist()" class="ml-1"
                    [options]="{'type': 'cancel', 'textDisplay': 'button', 'text': 'Remove from the Playlist', 'context': 'danger'}">
                </app-bx-button>
            </div>
        </div>
    </div>
</div>