<div class="card-box">
    <div class="d-flex align-items-center justify-content-center img-container">
        <img *ngIf="currentVideo" src="https://i.ytimg.com/vi/{{ currentVideo?.video?.link }}/mqdefault.jpg"
            alt="{{ currentVideo?.video?.name }}" class="card-img-top">
        <img *ngIf="!currentVideo" src="assets/images/berrybox-logo-master.png" alt="No video is playing"
            class="card-img-top no-playing">
    </div>
    <div class="card-block p-2 d-flex align-items-center">
        <div class="bb-box-picture mr-2">
            <app-profile-picture [fileName]="box.creator.settings.picture" [size]="'md'"></app-profile-picture>
        </div>
        <div class="d-flex flex-column" id="box-info-container">
            <div class="d-flex flex-row justify-content-between align-items-center pr-2">
                <h2 class="card-name m-0">{{ box.name }}</h2>
                <span ngbTooltip="Number of users currently in the box">
                    <svg class="berrybox-svg mr-1" style="height: 1.5em;" xmlns="http://www.w3.org/2000/svg"
                        viewBox="0 0 500 500">
                        <path class="berrybox-path"
                            d="M376,143.42a79.68,79.68,0,0,1-39.9,69.08,105.63,105.63,0,0,0-12.52-.74h-50a79.76,79.76,0,0,0-9.19-141.42A79.74,79.74,0,0,1,376,143.42Z" />
                        <path class="berrybox-path"
                            d="M336.06,212.5a79,79,0,0,1-29.95,10,104,104,0,0,0-33.84-10l1.26-.74h50A105.63,105.63,0,0,1,336.06,212.5Z" />
                        <path class="berrybox-path"
                            d="M428.49,316.71v109.6a10,10,0,0,1-10,10h-63.8a10,10,0,0,0,10-10V316.71a104.92,104.92,0,0,0-58.58-94.17,79,79,0,0,0,29.95-10A105,105,0,0,1,428.49,316.71Z" />
                        <path class="berrybox-path"
                            d="M293.46,143.42a79.69,79.69,0,0,1-38.63,68.34l-1.26.74a78.52,78.52,0,0,1-7.93,4,79.39,79.39,0,0,1-31.9,6.64q-3.78,0-7.46-.35a79.74,79.74,0,1,1,87.18-79.38Z" />
                        <path class="berrybox-path"
                            d="M346,316.71v109.6a10,10,0,0,1-10,10H91.48a10,10,0,0,1-10-10V320.57A108.74,108.74,0,0,1,190.29,211.76H241q3.24,0,6.44.21t6.09.53A104.92,104.92,0,0,1,346,316.71Z" />
                    </svg>
                    {{ box.users || 0 }}</span>
            </div>
            <div id="box-info">
                <p id="box-admin" class="mb-0">{{ box?.creator['name'] }} <span class="m-1">&#9679;</span>
                    {{ box.lang | languageFlagPipe }}
                </p>
                <p id="currently-playing" class="mb-0">{{ currentVideo?.video?.name || "--" }}</p>
                <div class="modes pb-2">
                    <app-bx-chip [options]="{'type': 'random'}" [display]="'icon'" *ngIf="box?.options?.random">
                    </app-bx-chip>
                    <app-bx-chip [options]="{'type': 'loop'}" [display]="'icon'" *ngIf="box?.options?.loop">
                    </app-bx-chip>
                    <app-bx-chip [options]="{'type': 'lock'}" [display]="'icon'" *ngIf="box?.private"></app-bx-chip>
                    <app-bx-chip [options]="{'type': 'coin-enabled'}" [display]="'icon'" *ngIf="box?.options?.berries">
                    </app-bx-chip>
                    <app-bx-chip
                        [options]="{'type': 'duration-limit', 'tooltipText': 'Videos longer than ' + box.options.videoMaxDurationLimit + ' mins will be rejected.'}"
                        [display]="'icon'" *ngIf="box?.options?.videoMaxDurationLimit !== 0">
                    </app-bx-chip>
                </div>
            </div>
        </div>
    </div>
    <div class="box-actions p-2">
        <button class="btn btn-default btn-block">Join</button>
    </div>
</div>